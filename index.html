<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fantasy Premier League - Liga Privada</title>
    <link rel="stylesheet" href="fpl_styles_css.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>
                <span>üèÜ</span>
                <span>Fantasy PL - Cargando...</span>
            </h1>
            <div class="nav-buttons">
                <button class="btn btn-secondary active" onclick="showSection('standings')">
                    üìä Clasificaci√≥n
                </button>
                <button class="btn btn-secondary" onclick="showSection('fixtures')">
                    üìÖ Calendario
                </button>
            </div>
        </div>
    </header>

    <div class="container">
        <div id="loading" class="loading">
            Cargando datos de la liga...
        </div>

        <div id="error-message" class="error hidden">
            <h3>Error de conexi√≥n</h3>
            <p>No se pudo conectar a la API de Fantasy Premier League. Por favor:</p>
            <ol style="margin-top: 10px; margin-left: 20px;">
                <li>Instala la extensi√≥n CORS Unblock para Chrome/Edge</li>
                <li>Recarga esta p√°gina</li>
            </ol>
            <p style="margin-top: 10px;">
                <a href="https://chrome.google.com/webstore/detail/cors-unblock/lfhmikememgdcahcdlaciloancbhjino" target="_blank" style="color: #60a5fa;">
                    Descargar extensi√≥n CORS Unblock
                </a>
            </p>
        </div>

        <!-- Clasificaci√≥n -->
        <div id="standings-section" class="section">
            <div class="card">
                <div class="overflow-x">
                    <table id="standings-table">
                        <thead>
                            <tr>
                                <th class="sortable" onclick="sortTable('rank')">Puesto</th>
                                <th class="sortable" onclick="sortTable('name')">Equipo</th>
                                <th class="sortable text-right" onclick="sortTable('h2hPoints')">Pts H2H</th>
                                <th class="sortable text-right" onclick="sortTable('totalPoints')">Pts Totales</th>
                                <th class="sortable text-center" onclick="sortTable('wins')">V</th>
                                <th class="sortable text-center" onclick="sortTable('draws')">E</th>
                                <th class="sortable text-center" onclick="sortTable('losses')">D</th>
                                <th class="sortable text-center" onclick="sortTable('closeWins')">V&lt;5pts</th>
                                <th class="sortable text-center" onclick="sortTable('closeLosses')">D&lt;5pts</th>
                            </tr>
                        </thead>
                        <tbody id="standings-body">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Calendario -->
        <div id="fixtures-section" class="section">
            <div class="card">
                <div class="gw-selector">
                    <label>Seleccionar Jornada:</label>
                    <select id="gw-select" onchange="loadFixtures(this.value)">
                    </select>
                </div>
                <div id="fixtures-container">
                </div>
            </div>
        </div>

        <!-- Detalles de Equipo -->
        <div id="team-details-section" class="section">
            <div class="card">
                <button class="btn btn-secondary back-btn" onclick="showSection('standings')">
                    ‚Üê Volver a la clasificaci√≥n
                </button>
                <div id="team-details-content">
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
